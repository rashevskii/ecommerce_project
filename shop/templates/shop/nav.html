{% load crispy_forms_tags %}
<nav class="navbar navbar-expand-lg navbar-light bg-dark">
    <div class="container-fluid">
        <a href="{% url 'home' %}" class="navbar-brand text-success">
            <span class="material-icons md-48">store</span>
        </a>
        <button class="navbar-toggler bg-light" data-bs-toggle="collapse" data-bs-target="#navbar"
                aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation" type="button">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div id="navbar" class="collapse navbar-collapse justify-content-between">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link text-light text-uppercase font-weight-bold px-3" href="{% url 'home' %}">Home</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link text-light text-uppercase font-weight-bold px-3 dropdown-toggle"
                       data-bs-toggle="dropdown" id="dropdownMenuLink" aria-expanded="false" href="#">Categories</a>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <a href="{% url 'home' %}" class="dropdown-item">All products</a>
                        {% for category in links %}
                        <a href="{{ category.get_url }}" class="dropdown-item">{{ category.name }}</a>
                        {% endfor %}
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-light text-uppercase font-weight-bold px-3" href="#">Contacts</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-light text-uppercase font-weight-bold px-3"
                       href="#">About</a>
                </li>
                {% if request.user.is_authenticated and request.user.first_name %}
                <li class="nav-item">
                    <span style="display: flex;" class="nav-link text-light text-uppercase font-weight-bold px-3">
                        Welcome, {{ request.user.first_name }}!
                        <span class="material-icons">account_circle</span>
                    </span>
                </li>
                <li class="nav-item">
                    <a style="display: flex;" class="nav-link text-light text-uppercase font-weight-bold px-3" href="{% url 'logout' %}">
                        Sign out
                        <span class="material-icons">exit_to_app</span>
                    </a>
                </li>
                {% else %}
                <li class="nav-item">
                    <a style="display: flex;" class="nav-link text-light text-uppercase font-weight-bold px-3" href="{% url 'signup' %}">
                        Sign up
                        <span class="material-icons">add</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a style="display: flex;" class="nav-link text-light text-uppercase font-weight-bold px-3" href="{% url 'login' %}">
                        Log in
                        <span class="material-icons">login</span>
                    </a>
                </li>
                {% endif %}
                <li class="nav-item">
                    <a class="nav-link text-light text-uppercase font-weight-bold px-3" href="{% url 'cart_detail' %}">
                        <span class="material-icons">shopping_cart</span>
                        {% if item_count > 0 %}
                        ({{ item_count }})
                        {% endif %}
                    </a>
                </li>
            </ul>
            <form action="" class="form-inline">
                <div class="input-group">
                    <input class="form-control bg-white" type="text" placeholder="Search">
                    <div>
                        <button style="padding-top: .2rem; padding-bottom: 0.2rem;" class="btn btn-success">
                            <span class="material-icons md-24">search</span>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</nav>